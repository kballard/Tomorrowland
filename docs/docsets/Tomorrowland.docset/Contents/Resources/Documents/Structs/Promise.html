<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Promise Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Struct/Promise" class="dashAnchor"></a>
    <a title="Promise Structure Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Tomorrowland Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/kballard/Tomorrowland"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Tomorrowland Reference</a>
        <img id="carat" src="../img/carat.png" />
        Promise Structure Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/NoError.html">NoError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseCallbackError.html">PromiseCallbackError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseContext.html">PromiseContext</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseResult.html">PromiseResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseTimeoutError.html">PromiseTimeoutError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVyxq_GSayAEG5first_Sb15cancelRemainingtr0_lF">when(first:cancelRemaining:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVyx_q_q0_q1_q2_q3_tq4_GADyxq4_G9fulfilled_ADyq_q4_GADyq0_q4_GADyq1_q4_GADyq2_q4_GADyq3_q4_G8Dispatch0E3QoSV0F6SClassO3qosSb15cancelOnFailuretr5_lF">when(fulfilled:_:_:_:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVyx_q_q0_q1_q2_tq3_GADyxq3_G9fulfilled_ADyq_q3_GADyq0_q3_GADyq1_q3_GADyq2_q3_G8Dispatch0E3QoSV0F6SClassO3qosSb15cancelOnFailuretr4_lF">when(fulfilled:_:_:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVyx_q_q0_q1_tq2_GADyxq2_G9fulfilled_ADyq_q2_GADyq0_q2_GADyq1_q2_G8Dispatch0E3QoSV0F6SClassO3qosSb15cancelOnFailuretr3_lF">when(fulfilled:_:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVyx_q_q0_tq1_GADyxq1_G9fulfilled_ADyq_q1_GADyq0_q1_G8Dispatch0E3QoSV0F6SClassO3qosSb15cancelOnFailuretr2_lF">when(fulfilled:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVyx_q_tq0_GADyxq0_G9fulfilled_ADyq_q0_G8Dispatch0E3QoSV0F6SClassO3qosSb15cancelOnFailuretr1_lF">when(fulfilled:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4whenAA7PromiseVySayxGq_GSayADyxq_GG9fulfilled_8Dispatch0E3QoSV0F6SClassO3qosSb15cancelOnFailuretr0_lF">when(fulfilled:qos:cancelOnFailure:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/DelayedPromise.html">DelayedPromise</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Promise.html">Promise</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Promise/Resolver.html">â€“ Resolver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/s:12Tomorrowland18PromiseCancellableV">PromiseCancellable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TokenPromise.html">TokenPromise</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:12Tomorrowland17StdDelayedPromisea">StdDelayedPromise</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:12Tomorrowland10StdPromisea">StdPromise</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Promise</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                </div>
              </div>
            <p>A <code>Promise</code> is a construct that will eventually hold a value or error, and can invoke callbacks
when that happens.</p>

<p>Example usage:</p>
<pre class="highlight swift"><code><span class="kt">Promise</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="o">.</span><span class="n">utility</span><span class="p">)</span> <span class="p">{</span> <span class="n">resolver</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">someLongComputation</span><span class="p">()</span>
    <span class="n">resolver</span><span class="o">.</span><span class="nf">fulfill</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span>
<span class="p">}</span><span class="o">.</span><span class="nf">then</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">main</span><span class="p">)</span> <span class="p">{</span> <span class="n">value</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">updateUI</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span>
<span class="p">}</span><span class="o">.</span><span class="nf">catch</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="o">.</span><span class="n">main</span><span class="p">)</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">handleError</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Promises can also be cancelled. With a <code>Promise</code> object you can invoke <code>.requestCancel()</code>, which
is merely advisory; the promise does not have to actually implement cancellation and may resolve
anyway. But if a promise does implement cancellation, it can then call <code>resolver.cancel()</code>. Note
that even if the promise supports cancellation, calling <code>.requestCancel()</code> on an unresolved
promise does not guarantee that it will cancel, as the promise may be in the process of
resolving when that method is invoked. Make sure to use the invalidation token support if you
need to ensure your registered callbacks aren&rsquo;t invoked past a certain point.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV8ResolverV"></a>
                    <a name="//apple_ref/swift/Struct/Resolver" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV8ResolverV">Resolver</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>Resolver</code> is used to fulfill, reject, or cancel its associated <code><a href="../Structs/Promise.html">Promise</a></code>.</p>

                        <a href="../Structs/Promise/Resolver.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Resolver</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV6resultAA0B6ResultOyxq_GSgvp"></a>
                    <a name="//apple_ref/swift/Property/result" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV6resultAA0B6ResultOyxq_GSgvp">result</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the result of the promise.</p>

<p>Once this value becomes non-<code>nil</code> it will never change.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">result</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV16makeWithResolverACyxq_G_AC0E0Vyxq__GtyFZ"></a>
                    <a name="//apple_ref/swift/Method/makeWithResolver()" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV16makeWithResolverACyxq_G_AC0E0Vyxq__GtyFZ">makeWithResolver()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a <code>Promise</code> and a <code><a href="../Structs/Promise/Resolver.html">Promise.Resolver</a></code> that can be used to fulfill that promise.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    In most cases you want to use <code>Promise(on:_:)</code> instead.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">makeWithResolver</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;.</span><span class="kt"><a href="../Structs/Promise/Resolver.html">Resolver</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVACyxq_GAA0B7ContextO2on_yAC8ResolverVyxq__Gctcfc"></a>
                    <a name="//apple_ref/swift/Method/init(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVACyxq_GAA0B7ContextO2on_yAC8ResolverVyxq__Gctcfc">init(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>Promise</code> that will be resolved using the given block.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">handler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="n">_</span> <span class="nv">resolver</span><span class="p">:</span> <span class="kt"><a href="../Structs/Promise/Resolver.html">Resolver</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to execute the handler on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>handler</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A block that is executed in order to fulfill the promise.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>resolver</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/Promise/Resolver.html">Resolver</a></code> used to resolve the promise.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVACyxq_Gx9fulfilled_tcfc"></a>
                    <a name="//apple_ref/swift/Method/init(fulfilled:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVACyxq_Gx9fulfilled_tcfc">init(fulfilled:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a <code>Promise</code> that is already fulfilled with the given value.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">fulfilled</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Value</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVACyxq_Gq_8rejected_tcfc"></a>
                    <a name="//apple_ref/swift/Method/init(rejected:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVACyxq_Gq_8rejected_tcfc">init(rejected:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a <code>Promise</code> that is already rejected with the given error.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">rejected</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV4thenACyqd__q_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenqd__xctlF"></a>
                    <a name="//apple_ref/swift/Method/then(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV4thenACyqd__q_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenqd__xctlF">then(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">then</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">U</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onSuccess</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onSuccess</code>. If the
receiver is rejected or cancelled, the returned promise will also be rejected or
cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV4thenACyqd__q_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAExctlF"></a>
                    <a name="//apple_ref/swift/Method/then(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV4thenACyqd__q_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAExctlF">then(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">then</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onSuccess</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onSuccess</code>. If the receiver is rejected or cancelled, the returned promise will also be
rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV5catchACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyq_ctF"></a>
                    <a name="//apple_ref/swift/Method/catch(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV5catchACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyq_ctF">catch(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is rejected.</p>

<p>This method (or <code>always</code>) should be used to terminate a promise chain.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="p">`</span><span class="nv">catch</span><span class="p">`(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onError</code> from being invoked.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV7recoverACyxAA7NoErrorOGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenxq_ctF"></a>
                    <a name="//apple_ref/swift/Method/recover(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV7recoverACyxAA7NoErrorOGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenxq_ctF">recover(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">recover</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt"><a href="../Enums/NoError.html">NoError</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onError</code> from being invoked. If the promise is
rejected and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onError</code>. If the
receiver is fulfilled or cancelled, the returned promise will also be fulfilled or
cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV7recoverACyxqd__GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAEq_ctlF"></a>
                    <a name="//apple_ref/swift/Method/recover(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV7recoverACyxqd__GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAEq_ctlF">recover(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">recover</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onError</code> from being invoked. If the promise is
rejected and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onError</code>. If the receiver is fulfilled or cancelled, the returned promise will also be
fulfilled or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV6alwaysACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF"></a>
                    <a name="//apple_ref/swift/Method/always(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV6alwaysACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">always(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">always</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onComplete</code> from being invoked.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV6alwaysACyqd__qd_0_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAeA0B6ResultOyxq_Gctr0_lF"></a>
                    <a name="//apple_ref/swift/Method/always(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV6alwaysACyqd__qd_0_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAeA0B6ResultOyxq_Gctr0_lF">always(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new promise to wait on.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">always</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onComplete</code> from being invoked and will cause
the returned <code>Promise</code> to be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new promise, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>Promise</code> that adopts the same value that the promise returned by
<code>onComplete</code> does.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV9tryAlwaysACyqd__s5Error_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenACyqd__qd_0_GAA0B6ResultOyxq_GKctsAERd_0_r0_lF"></a>
                    <a name="//apple_ref/swift/Method/tryAlways(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV9tryAlwaysACyqd__s5Error_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenACyqd__qd_0_GAA0B6ResultOyxq_GKctsAERd_0_r0_lF">tryAlways(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new promise to wait on.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryAlways</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onComplete</code> from being invoked and will cause
the returned <code>Promise</code> to be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new promise, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>Promise</code> that adopts the same value that the promise returned by
<code>onComplete</code> does, or is rejected if <code>onComplete</code> throws an error.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV9tryAlwaysACyqd__s5Error_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAfA0B6ResultOyxq_GKctlF"></a>
                    <a name="//apple_ref/swift/Method/tryAlways(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV9tryAlwaysACyqd__s5Error_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAfA0B6ResultOyxq_GKctlF">tryAlways(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new promise to wait on.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryAlways</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onComplete</code> from being invoked and will cause
the returned <code>Promise</code> to be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new promise, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>Promise</code> that adopts the same value that the promise returned by
<code>onComplete</code> does, or is rejected if <code>onComplete</code> throws an error.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF"></a>
                    <a name="//apple_ref/swift/Method/tap(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">tap(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked when the promise is resolved without affecting behavior.</p>

<p>This is similar to an <code>always</code> callback except it doesn&rsquo;t create a new <code>Promise</code> and instead
returns its receiver. This means it won&rsquo;t delay any chained callbacks and it won&rsquo;t affect
automatic cancellation propagation behavior.</p>

<p>This is similar to <code>tap().always(on:token:_:)</code> except it can be inserted into any promise
chain without affecting the chain.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This method is intended for inserting into the middle of a promise chain without
affecting existing behavior (in particular, cancellation propagation). If you are not
inserting this into the middle of a promise chain, you probably want to use
<code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV4thenACyqd__q_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenqd__xctlF">then(on:token:_:)</a></code>, <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV5catchACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyq_ctF">catch(on:token:_:)</a></code>, or <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV6alwaysACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">always(on:token:_:)</a></code> instead.</p>

</div>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GyF">tap()</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">tap</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onComplete</code> from being invoked.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The receiver.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV3tapACyxq_GyF"></a>
                    <a name="//apple_ref/swift/Method/tap()" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV3tapACyxq_GyF">tap()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>Promise</code> that adopts the result of the receiver without affecting its behavior.</p>

<p>The returned <code>Promise</code> will always resolve with the same value that its receiver does, but
it won&rsquo;t affect the timing of any of the receiver&rsquo;s other observers and it won&rsquo;t affect
automatic cancellation propagation behavior.</p>

<p><code>tap().always(on:token:_:)</code> behaves the same as <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">tap(on:token:_:)</a></code> except it returns a new
<code>Promise</code> whereas <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">tap(on:token:_:)</a></code> returns the receiver and can be inserted into any
promise chain without affecting the chain.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This method is intended for inserting into the middle of a promise chain without
affecting existing behavior (in particular, cancellation propagation). If you are not
inserting this into the middle of a promise chain, you probably want to use
<code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV4thenACyqd__q_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenqd__xctlF">then(on:token:_:)</a></code>, <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV5catchACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyq_ctF">catch(on:token:_:)</a></code>, or <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV6alwaysACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">always(on:token:_:)</a></code> instead.</p>

</div>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">tap(on:token:_:)</a></code>, <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV14ignoringCancelACyxq_GyF">ignoringCancel()</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">tap</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>Promise</code> that adopts the same result as the receiver. Requesting this new
promise to cancel does nothing.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV8onCancelACyxq_GAA0B7ContextO0C0_AA0B17InvalidationTokenVSg5tokenyyctF"></a>
                    <a name="//apple_ref/swift/Method/onCancel(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV8onCancelACyxq_GAA0B7ContextO0C0_AA0B17InvalidationTokenVSg5tokenyyctF">onCancel(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked when the promise is cancelled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">onCancel</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onCancel</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onCancel</code> from being invoked.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onCancel</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked when the promise is cancelled.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV4forkACyxq_GyAEKcKF"></a>
                    <a name="//apple_ref/swift/Method/fork(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV4forkACyxq_GyAEKcKF">fork(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Passes the <code>Promise</code> to a block and then returns the <code>Promise</code> for further chaining.</p>

<p>This method exists to make it easy to add multiple children to the same <code>Promise</code> in a
promise chain.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Having multiple children on a single <code>Promise</code> can interfere with automatic
cancellation propagation. You may want to use <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">tap(on:token:_:)</a></code> or <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GyF">tap()</a></code> for your
sibling children if you&rsquo;re returning the result of the promise chain to a caller that may
wish to cancel the chain.

</div>

<p>Example:</p>
<pre class="highlight swift"><code><span class="k">return</span> <span class="n">urlSession</span><span class="o">.</span><span class="nf">dataTaskAsPromise</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">fork</span><span class="p">({</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">tap</span><span class="p">()</span><span class="o">.</span><span class="nf">then</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="o">.</span><span class="n">main</span><span class="p">,</span> <span class="p">{</span> <span class="n">analytics</span><span class="o">.</span><span class="nf">recordNetworkLoad</span><span class="p">(</span><span class="nv">$0</span><span class="o">.</span><span class="n">response</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span> <span class="p">})</span> <span class="p">})</span>
    <span class="o">.</span><span class="nf">tryThen</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="o">.</span><span class="n">utility</span><span class="p">,</span> <span class="p">{</span> <span class="k">try</span> <span class="kt">JSONDecoder</span><span class="p">()</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">Model</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="p">})</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">fork</span><span class="p">(</span><span class="n">_</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">(</span><span class="kt">Promise</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="k">rethrows</span> <span class="o">-&gt;</span> <span class="kt">Promise</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV13requestCancelyyF"></a>
                    <a name="//apple_ref/swift/Method/requestCancel()" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV13requestCancelyyF">requestCancel()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Requests that the <code>Promise</code> should be cancelled.</p>

<p>If the promise is already resolved, this does nothing. Otherwise, if the <code>Promise</code> registers
any <code>onRequestCancel</code> handlers, those handlers will be called.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Requesting that a <code>Promise</code> should be cancelled doesn&rsquo;t guarantee it will be. If you
need to ensure your <code>then</code> block isn&rsquo;t invoked, also use a <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> and
call <code>.invalidate()</code> on it.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">requestCancel</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV25requestCancelOnInvalidateACyxq_GAA0B17InvalidationTokenVF"></a>
                    <a name="//apple_ref/swift/Method/requestCancelOnInvalidate(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV25requestCancelOnInvalidateACyxq_GAA0B17InvalidationTokenVF">requestCancelOnInvalidate(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Requests that the <code>Promise</code> should be cancelled when the token is invalidated.</p>

<p>This is equivalent to calling <code>token.requestCancelOnInvalidate(promise)</code> and is intended to
be used to terminate a promise chain. For example:</p>
<pre class="highlight swift"><code><span class="n">urlSession</span><span class="o">.</span><span class="nf">promiseDataTask</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="nf">then</span><span class="p">(</span><span class="nv">token</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span> <span class="p">{</span> <span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">in</span>
    <span class="err">â€¦</span>
<span class="p">})</span><span class="o">.</span><span class="nf">catch</span><span class="p">(</span><span class="nv">token</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span> <span class="p">{</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="err">â€¦</span>
<span class="p">})</span><span class="o">.</span><span class="nf">requestCancelOnInvalidate</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">requestCancelOnInvalidate</span><span class="p">(</span><span class="n">_</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code>. When the token is invalidated the receiver
will be requested to cancel.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The receiver. This value can be ignored.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV14ignoringCancelACyxq_GyF"></a>
                    <a name="//apple_ref/swift/Method/ignoringCancel()" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV14ignoringCancelACyxq_GyF">ignoringCancel()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>Promise</code> that adopts the value of the receiver but ignores cancel requests.</p>

<p>This is primarily useful when returning a nested promise in a callback handler in order to
unlink cancellation of the outer promise with the inner one. It can also be used to stop
propagating cancel requests up the chain, e.g. if you want to implement something similar to
<code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenyAA0B6ResultOyxq_GctF">tap(on:token:_:)</a></code>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This is similar to <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GyF">tap()</a></code> except it prevents the parent promise from being
automatically cancelled due to cancel propagation from any observer.</p>

</div>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The returned <code>Promise</code> will still be cancelled if its parent promise is cancelled.</p>

</div>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GyF">tap()</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">ignoringCancel</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV21requestCancelOnDeinitACyxq_GyXlF"></a>
                    <a name="//apple_ref/swift/Method/requestCancelOnDeinit(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV21requestCancelOnDeinitACyxq_GyXlF">requestCancelOnDeinit(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Requests that the <code>Promise</code> should be cancelled when the object deinits.</p>

<p>This is equivalent to having the object hold a <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> in a property
(configured to invalidate on deinit) and requesting the promise cancel on that token.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">requestCancelOnDeinit</span><span class="p">(</span><span class="n">_</span> <span class="nv">object</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>object</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Any object. When the object deinits the receiver will be requested to
cancel.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The receiver. This value can be ignored.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Promise%3C_,E%3E%20where%20E:%20Swift.Error"></a>
                <a name="//apple_ref/swift/Section/Promise&lt;_,E&gt; where E: Swift.Error" class="dashAnchor"></a>
                <a href="#/Promise%3C_,E%3E%20where%20E:%20Swift.Error">
                  <h3 class="section-name">Promise&lt;_,E&gt; where E: Swift.Error</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5ErrorR_rlE6upcastACyxsAD_pGvp"></a>
                    <a name="//apple_ref/swift/Property/upcast" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5ErrorR_rlE6upcastACyxsAD_pGvp">upcast</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new promise with an error type of <code>Swift.Error</code>.</p>

<p>The new promise adopts the exact same result as the receiver, but if the promise resolves to
an error, it&rsquo;s upcast to <code>Swift.Error</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">upcast</span><span class="p">:</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Promise%3C_,NoError%3E"></a>
                <a name="//apple_ref/swift/Section/Promise&lt;_,NoError&gt;" class="dashAnchor"></a>
                <a href="#/Promise%3C_,NoError%3E">
                  <h3 class="section-name">Promise&lt;_,NoError&gt;</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVA2A7NoErrorORs_rlE6upcastACyxs0D0_pGvp"></a>
                    <a name="//apple_ref/swift/Property/upcast" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVA2A7NoErrorORs_rlE6upcastACyxs0D0_pGvp">upcast</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new promise with an error type of <code>Swift.Error</code>.</p>

<p>The new promise adopts the exact same result as the receiver. As the receiver&rsquo;s error type
is <code><a href="../Enums/NoError.html">NoError</a></code>, the receiver cannot ever be rejected, but this upcast allows the promise to
compose better with other promises.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">upcast</span><span class="p">:</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Promise%3C_,Swift.Error%3E"></a>
                <a name="//apple_ref/swift/Section/Promise&lt;_,Swift.Error&gt;" class="dashAnchor"></a>
                <a href="#/Promise%3C_,Swift.Error%3E">
                  <h3 class="section-name">Promise&lt;_,Swift.Error&gt;</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlEACyxsAD_pGAA0B7ContextO2on_yAC8ResolverVyxsAD_p_GKctcfc"></a>
                    <a name="//apple_ref/swift/Method/init(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlEACyxsAD_pGAA0B7ContextO2on_yAC8ResolverVyxsAD_p_GKctcfc">init(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>Promise</code> that will be resolved using the given block.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">handler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="n">_</span> <span class="nv">resolver</span><span class="p">:</span> <span class="kt"><a href="../Structs/Promise/Resolver.html">Resolver</a></span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to execute the handler on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>handler</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A block that is executed in order to fulfill the promise. If the block
throws an error the promise will be rejected (unless it was already resolved first).</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>resolver</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/Promise/Resolver.html">Resolver</a></code> used to resolve the promise.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7tryThenACyqd__sAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenqd__xKctlF"></a>
                    <a name="//apple_ref/swift/Method/tryThen(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7tryThenACyqd__sAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenqd__xKctlF">tryThen(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryThen</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">U</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onSuccess</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onSuccess</code>, or
rejected if <code>onSuccess</code> throws an error. If the receiver is rejected or cancelled, the
returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7tryThenACyqd__sAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAFxKctlF"></a>
                    <a name="//apple_ref/swift/Method/tryThen(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7tryThenACyqd__sAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAFxKctlF">tryThen(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryThen</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onSuccess</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onSuccess</code>, or rejected if <code>onSuccess</code> throws an error. If the receiver is rejected or
cancelled, the returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7tryThenACyqd__sAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenACyqd__qd_0_GxKctsADRd_0_r0_lF"></a>
                    <a name="//apple_ref/swift/Method/tryThen(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7tryThenACyqd__sAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenACyqd__qd_0_GxKctsADRd_0_r0_lF">tryThen(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryThen</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onSuccess</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onSuccess</code>, or rejected if <code>onSuccess</code> throws an error. If the receiver is rejected or
cancelled, the returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecoverACyxsAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenxsAD_pKctF"></a>
                    <a name="//apple_ref/swift/Method/tryRecover(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecoverACyxsAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenxsAD_pKctF">tryRecover(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">tryRecover</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onError</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onError</code>, or
rejected if <code>onError</code> throws an error. If the receiver is rejected or cancelled, the
returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecoverACyxsAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAFsAD_pKctF"></a>
                    <a name="//apple_ref/swift/Method/tryRecover(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecoverACyxsAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenAFsAD_pKctF">tryRecover(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">tryRecover</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onError</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onError</code>, or rejected if <code>onError</code> throws an error. If the receiver is rejected or
cancelled, the returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecoverACyxsAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenACyxqd__GsAD_pKctsADRd__lF"></a>
                    <a name="//apple_ref/swift/Method/tryRecover(on:token:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecoverACyxsAD_pGAA0B7ContextO2on_AA0B17InvalidationTokenVSg5tokenACyxqd__GsAD_pKctsADRd__lF">tryRecover(on:token:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryRecover</span><span class="o">&lt;</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional <code>PromiseInvalidatonToken</code>. If provided, calling
<code>invalidate()</code> on the token will prevent <code>onError</code> from being invoked. If the promise is
fulfilled and the token is invalidated, the returned promise will be cancelled.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onError</code>, or rejected if <code>onError</code> throws an error. If the receiver is rejected or
cancelled, the returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Equatable"></a>
                <a name="//apple_ref/swift/Section/Equatable" class="dashAnchor"></a>
                <a href="#/Equatable">
                  <h3 class="section-name">Equatable</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV2eeoiSbACyxq_G_AEtFZ"></a>
                    <a name="//apple_ref/swift/Method/==(_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV2eeoiSbACyxq_G_AEtFZ">==(_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Two <code>Promise</code>s compare as equal if they represent the same promise.</p>

<p>Two distinct <code>Promise</code>s that are resolved to the same value compare as unequal.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="o">==</span> <span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="kt">Promise</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="kt">Promise</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV11cancellableAA0B11CancellableVvp"></a>
                    <a name="//apple_ref/swift/Property/cancellable" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV11cancellableAA0B11CancellableVvp">cancellable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a value that can be used to cancel this promise without holding onto the full promise.</p>

<p>In particular, this acts like a weak reference, allowing for cancelling the promise without
creating a retain cycle. Promise retain cycles normally break themselves anyway when the promise
is resolved, but a misbehaving promise body may drop the resolver without ever resolving the
promise. If the <code>Promise</code> has no more references to it this automatically cancels the
promise, but a retain cycle prevents this.</p>

<p>If you trust the promise provider to always resolve the promise, you can safely ignore this.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">cancellable</span><span class="p">:</span> <span class="kt"><a href="../Structs.html#/s:12Tomorrowland18PromiseCancellableV">PromiseCancellable</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV9withTokenAA0dB0Vyxq_GAA0b12InvalidationD0VF"></a>
                    <a name="//apple_ref/swift/Method/withToken(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV9withTokenAA0dB0Vyxq_GAA0b12InvalidationD0VF">withToken(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code><a href="../Structs/TokenPromise.html">TokenPromise</a></code> that wraps the receiver.</p>

<p>A <code><a href="../Structs/TokenPromise.html">TokenPromise</a></code> is an adapter that allows you to call methods on the wrapped <code>Promise</code>
while automatically applying the given <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code>.</p>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    <p><code><a href="../Structs/TokenPromise.html">TokenPromise</a></code> automatically cancels any returned child <code>Promise</code>s when the
<code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> is invalidated. If you do not want child <code>Promise</code>s to be
cancelled, pass the token to the <code>Promise</code> methods manually instead of using
<code>.withToken(_:)</code>. See <code><a href="../Structs/TokenPromise.html">TokenPromise</a></code> for details.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">withToken</span><span class="p">(</span><span class="n">_</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/TokenPromise.html">TokenPromise</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> to use when calling methods on the
receiver using the returned <code><a href="../Structs/TokenPromise.html">TokenPromise</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code><a href="../Structs/TokenPromise.html">TokenPromise</a></code>.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV5delayACyxq_GAA0B7ContextO2on_SdtF"></a>
                    <a name="//apple_ref/swift/Method/delay(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV5delayACyxq_GAA0B7ContextO2on_SdtF">delay(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>Promise</code> that adopts the receiver&rsquo;s result after a delay.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">delay</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">delay</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to resolve the new <code>Promise</code> on. This is generally only
important when using callbacks registered with <code>.immediate</code>. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.
If provided as <code>.immediate</code>, behaves the same as <code>.auto</code>. If provided as <code>.operationQueue</code>
it uses the <code>OperationQueue</code>&lsquo;s underlying queue, or <code>.default</code> if there is no underlying
queue.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>delay</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The number of seconds to delay the resulting promise by.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Promise</code> that adopts the same result as the receiver after a delay.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseV7timeoutACyxAA0B12TimeoutErrorOyq_GGAA0B7ContextO2on_Sd5delaytF"></a>
                    <a name="//apple_ref/swift/Method/timeout(on:delay:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseV7timeoutACyxAA0B12TimeoutErrorOyq_GGAA0B7ContextO2on_Sd5delaytF">timeout(on:delay:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a <code>Promise</code> that is rejected with an error if the receiver does not resolve within
the given interval.</p>

<p>The returned <code>Promise</code> will adopt the receiver&rsquo;s value if it resolves within the given
interval. Otherwise it will be rejected with the error <code><a href="../Enums/PromiseTimeoutError.html#/s:12Tomorrowland19PromiseTimeoutErrorO8timedOutACyxGAEmlF">PromiseTimeoutError.timedOut</a></code>. If
the receiver is rejected, the returned promise will be rejected with
<code>PromiseTimeoutError.rejected(error)</code>.</p>

<p>If the promise times out, the returned promise will be rejected using the same context. In
  this event, <code>.immediate</code> is treated the same as <code>.auto</code>. If provided as <code>.operationQueue</code>
  it uses the <code>OperationQueue</code>&lsquo;s underlying queue, or <code>.default</code> if there is no underlying
  queue.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">timeout</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">delay</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt"><a href="../Enums/PromiseTimeoutError.html">PromiseTimeoutError</a></span><span class="o">&lt;</span><span class="kt">Error</span><span class="o">&gt;&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>delay</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The delay before the returned promise times out. If less than or equal to
zero, the returned <code>Promise</code> will be timed out at once unless the receiver is already
resolved.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>Promise</code>.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7timeoutACyxsAD_pGAA0B7ContextO2on_Sd5delaytF"></a>
                    <a name="//apple_ref/swift/Method/timeout(on:delay:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE7timeoutACyxsAD_pGAA0B7ContextO2on_Sd5delaytF">timeout(on:delay:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a <code>Promise</code> that is rejected with an error if the receiver does not resolve within
the given interval.</p>

<p>The returned <code>Promise</code> will adopt the receiver&rsquo;s value if it resolves within the given
interval. Otherwise it will be rejected with the error
<code><a href="../Enums/PromiseTimeoutError.html#/s:12Tomorrowland19PromiseTimeoutErrorO8timedOutACyxGAEmlF">PromiseTimeoutError&lt;Error&gt;.timedOut</a></code>. If the receiver is rejected, the returned promise
will be rejected with the same error.</p>

<p>If the promise times out, the returned promise will be rejected using the same context. In
  this event, <code>.immediate</code> is treated the same as <code>.auto</code>. If provided as <code>.operationQueue</code>
  it uses the <code>OperationQueue</code>&lsquo;s underlying queue, or <code>.default</code> if there is no underlying
  queue.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">timeout</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="nv">delay</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>delay</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The delay before the returned promise times out. If less than or equal to
zero, the returned <code>Promise</code> will be timed out at once unless the receiver is already
resolved.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>Promise</code>.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="https://github.com/kballard/Tomorrowland" target="_blank" rel="external">Kevin Ballard</a>. All rights reserved. (Last updated: 2018-05-20)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
