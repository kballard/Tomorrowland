<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TokenPromise Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Struct/TokenPromise" class="dashAnchor"></a>
    <a title="TokenPromise Structure Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Tomorrowland Docs</a> (98% documented)</p>
        <p class="header-right"><a href="https://github.com/lilyball/Tomorrowland"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Tomorrowland Reference</a>
        <img id="carat" src="../img/carat.png" />
        TokenPromise Structure Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/NoError.html">NoError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseCallbackError.html">PromiseCallbackError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseContext.html">PromiseContext</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseResult.html">PromiseResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PromiseTimeoutError.html">PromiseTimeoutError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when5first15cancelRemainingAA7PromiseVyxq_GSayAGG_Sbtr0_lF">when(first:cancelRemaining:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when9fulfilled_____3qos15cancelOnFailureAA7PromiseVyx_q_q0_q1_q2_q3_tq4_GAGyxq4_G_AGyq_q4_GAGyq0_q4_GAGyq1_q4_GAGyq2_q4_GAGyq3_q4_G8Dispatch0I3QoSV0J6SClassOSbtr5_lF">when(fulfilled:_:_:_:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when9fulfilled____3qos15cancelOnFailureAA7PromiseVyx_q_q0_q1_q2_tq3_GAGyxq3_G_AGyq_q3_GAGyq0_q3_GAGyq1_q3_GAGyq2_q3_G8Dispatch0I3QoSV0J6SClassOSbtr4_lF">when(fulfilled:_:_:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when9fulfilled___3qos15cancelOnFailureAA7PromiseVyx_q_q0_q1_tq2_GAGyxq2_G_AGyq_q2_GAGyq0_q2_GAGyq1_q2_G8Dispatch0I3QoSV0J6SClassOSbtr3_lF">when(fulfilled:_:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when9fulfilled__3qos15cancelOnFailureAA7PromiseVyx_q_q0_tq1_GAGyxq1_G_AGyq_q1_GAGyq0_q1_G8Dispatch0I3QoSV0J6SClassOSbtr2_lF">when(fulfilled:_:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when9fulfilled_3qos15cancelOnFailureAA7PromiseVyx_q_tq0_GAGyxq0_G_AGyq_q0_G8Dispatch0I3QoSV0J6SClassOSbtr1_lF">when(fulfilled:_:qos:cancelOnFailure:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:12Tomorrowland4when9fulfilled3qos15cancelOnFailureAA7PromiseVySayxGq_GSayAGyxq_GG_8Dispatch0I3QoSV0J6SClassOSbtr0_lF">when(fulfilled:qos:cancelOnFailure:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/DelayedPromise.html">DelayedPromise</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Promise.html">Promise</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Promise/Resolver.html">â€“ Resolver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PromiseCancellable.html">PromiseCancellable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TokenPromise.html">TokenPromise</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:12Tomorrowland17StdDelayedPromisea">StdDelayedPromise</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:12Tomorrowland10StdPromisea">StdPromise</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>TokenPromise</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                </div>
              </div>
            <p>A <code><a href="../Structs/Promise.html">Promise</a></code> adapter that automatically applies a <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code>.</p>

<p>This exposes the same methods as <code><a href="../Structs/Promise.html">Promise</a></code> but it always passes a given
<code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> to the underlying promise.</p>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    <code>TokenPromise</code> automatically cancels any returned child <code><a href="../Structs/Promise.html">Promise</a></code>s when the
<code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> is invalidated. The only exception is <code><a href="../Structs/Promise.html">Promise</a></code>s returned from
<code>tap()</code> or <code>tap(on:_:)</code>, as these methods do not propagate cancellation.

</div>

<p>A <code>TokenPromise</code> is created with the method <code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV9withTokenyAA0dB0Vyxq_GAA0b12InvalidationD0VF">Promise.withToken(_:)</a></code>. The wrapped <code><a href="../Structs/Promise.html">Promise</a></code> can
be accessed with the <code>.inner</code> property.</p>
<h3 id='example' class='heading'>Example</h3>
<pre class="highlight swift"><code><span class="nf">methodReturningPromise</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">withToken</span><span class="p">(</span><span class="n">promiseToken</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">then</span><span class="p">({</span> <span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">in</span>
        <span class="c1">// handle value</span>
    <span class="p">})</span><span class="o">.</span><span class="nf">catch</span><span class="p">({</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
        <span class="c1">// handle error</span>
    <span class="p">})</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV5innerAA0C0Vyxq_Gvp"></a>
                    <a name="//apple_ref/swift/Property/inner" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV5innerAA0C0Vyxq_Gvp">inner</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The wrapped <code><a href="../Structs/Promise.html">Promise</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">inner</span><span class="p">:</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV5tokenAA0c12InvalidationB0Vvp"></a>
                    <a name="//apple_ref/swift/Property/token" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV5tokenAA0c12InvalidationB0Vvp">token</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> to use when invoking methods on the wrapped <code><a href="../Structs/Promise.html">Promise</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV7promise5tokenACyxq_GAA0C0Vyxq_G_AA0c12InvalidationB0Vtcfc"></a>
                    <a name="//apple_ref/swift/Method/init(promise:token:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV7promise5tokenACyxq_GAA0C0Vyxq_G_AA0c12InvalidationB0Vtcfc">init(promise:token:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>TokenPromise</code> that wraps the given promise.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">promise</span><span class="p">:</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="kt"><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>promise</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/Promise.html">Promise</a></code> to wrap.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>token</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/PromiseInvalidationToken.html">PromiseInvalidationToken</a></code> to use when invoking methods on the
<code>promise</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV4then2on_ACyxq_GAA0C7ContextO_yxctF"></a>
                    <a name="//apple_ref/swift/Method/then(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV4then2on_ACyxq_GAA0C7ContextO_yxctF">then(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV4then2on5token_ACyxq_GAA0B7ContextO_AA0B17InvalidationTokenVSgyxctF">Promise.then(on:token:_:)</a></code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">then</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV3map2on_ACyqd__q_GAA0C7ContextO_qd__xctlF"></a>
                    <a name="//apple_ref/swift/Method/map(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV3map2on_ACyqd__q_GAA0C7ContextO_qd__xctlF">map(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3map2on5token_ACyqd__q_GAA0B7ContextO_AA0B17InvalidationTokenVSgqd__xctlF">Promise.map(on:token:_:)</a></code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">map</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">U</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onSuccess</code>. If the
receiver is rejected or cancelled, the returned promise will also be rejected or
cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV7flatMap2on_ACyqd__q_GAA0C7ContextO_AA0C0Vyqd__q_GxctlF"></a>
                    <a name="//apple_ref/swift/Method/flatMap(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV7flatMap2on_ACyqd__q_GAA0C7ContextO_AA0C0Vyqd__q_GxctlF">flatMap(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV7flatMap2on5token_ACyqd__q_GAA0B7ContextO_AA0B17InvalidationTokenVSgAGxctlF">Promise.flatMap(on:token:_:)</a></code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">flatMap</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onSuccess</code>. If the receiver is rejected or cancelled, the returned promise will also be
rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV5catch2on_ACyxq_GAA0C7ContextO_yq_ctF"></a>
                    <a name="//apple_ref/swift/Method/catch(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV5catch2on_ACyxq_GAA0C7ContextO_yq_ctF">catch(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is rejected.</p>

<p>This method (or <code>always</code>) should be used to terminate a promise chain.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV5catch2on5token_ACyxq_GAA0B7ContextO_AA0B17InvalidationTokenVSgyq_ctF">Promise.catch(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="p">`</span><span class="nv">catch</span><span class="p">`(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV7recover2on_ACyxAA7NoErrorOGAA0C7ContextO_xq_ctF"></a>
                    <a name="//apple_ref/swift/Method/recover(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV7recover2on_ACyxAA7NoErrorOGAA0C7ContextO_xq_ctF">recover(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV7recover2on5token_ACyxAA7NoErrorOGAA0B7ContextO_AA0B17InvalidationTokenVSgxq_ctF">Promise.recover(on:token:_:)</a></code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">recover</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt"><a href="../Enums/NoError.html">NoError</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onError</code>. If the
receiver is fulfilled or cancelled, the returned promise will also be fulfilled or
cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV8mapError2on_ACyxqd__GAA0C7ContextO_qd__q_ctlF"></a>
                    <a name="//apple_ref/swift/Method/mapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV8mapError2on_ACyxqd__GAA0C7ContextO_qd__q_ctlF">mapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV8mapError2on5token_ACyxqd__GAA0B7ContextO_AA0B17InvalidationTokenVSgqd__q_ctlF">Promise.mapError(on:token:_:)</a></code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">mapError</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">E</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be rejected with the return value of <code>onError</code>. If the
receiver is fulfilled or cancelled, the returned promise will also be fulfilled or
cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV12flatMapError2on_ACyxqd__GAA0C7ContextO_AA0C0Vyxqd__Gq_ctlF"></a>
                    <a name="//apple_ref/swift/Method/flatMapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV12flatMapError2on_ACyxqd__GAA0C7ContextO_AA0C0Vyxqd__Gq_ctlF">flatMapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV12flatMapError2on5token_ACyxqd__GAA0B7ContextO_AA0B17InvalidationTokenVSgAGq_ctlF">Promise.flatMapError(on:token:_:)</a></code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">flatMapError</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onError</code>. If the receiver is fulfilled or cancelled, the returned promise will also be
fulfilled or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV11tryMapError2on_ACyxs0F0_pGAA0C7ContextO_qd__q_KctsAFRd__lF"></a>
                    <a name="//apple_ref/swift/Method/tryMapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV11tryMapError2on_ACyxs0F0_pGAA0C7ContextO_qd__q_KctsAFRd__lF">tryMapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryMapError</span><span class="o">&lt;</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">E</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be rejected with the return value of <code>onError</code>, or is
rejected if <code>onError</code> throws an error. If the receiver is fulfilled or cancelled, the
returned promise will also be fulfilled or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV15tryFlatMapError2on_ACyxs0G0_pGAA0C7ContextO_AA0C0Vyxqd__Gq_KctsAFRd__lF"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV15tryFlatMapError2on_ACyxs0G0_pGAA0C7ContextO_AA0C0Vyxqd__Gq_KctsAFRd__lF">tryFlatMapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryFlatMapError</span><span class="o">&lt;</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onError</code>, or is rejected if <code>onError</code> throws an error. If the receiver is fulfilled or
cancelled, the returned promise will also be fulfilled or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tryMapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tryMapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tryFlatMapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV6always2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF"></a>
                    <a name="//apple_ref/swift/Method/always(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV6always2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">always(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV6always2on5token_ACyxq_GAA0B7ContextO_AA0B17InvalidationTokenVSgyAA0B6ResultOyxq_GctF">Promise.always(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">always</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV9mapResult2on0F8CompleteACyqd__qd_0_GAA0C7ContextO_AA0cE0Oyqd__qd_0_GAKyxq_Gctr0_lF"></a>
                    <a name="//apple_ref/swift/Method/mapResult(on:onComplete:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV9mapResult2on0F8CompleteACyqd__qd_0_GAA0C7ContextO_AA0cE0Oyqd__qd_0_GAKyxq_Gctr0_lF">mapResult(on:onComplete:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new result.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV9mapResult2on5token_ACyqd__qd_0_GAA0B7ContextO_AA0B17InvalidationTokenVSgAA0bD0Oyqd__qd_0_GANyxq_Gctr0_lF">Promise.mapResult(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">mapResult</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new result, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that adopts the result returned by <code>onComplete</code>.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV13flatMapResult2on_ACyqd__qd_0_GAA0C7ContextO_AA0C0Vyqd__qd_0_GAA0cF0Oyxq_Gctr0_lF"></a>
                    <a name="//apple_ref/swift/Method/flatMapResult(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV13flatMapResult2on_ACyqd__qd_0_GAA0C7ContextO_AA0C0Vyqd__qd_0_GAA0cF0Oyxq_Gctr0_lF">flatMapResult(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new promise to wait on.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV13flatMapResult2on5token_ACyqd__qd_0_GAA0B7ContextO_AA0B17InvalidationTokenVSgAgA0bE0Oyxq_Gctr0_lF">Promise.flatMapResult(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">flatMapResult</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new promise, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that adopts the same value that the promise returned by
<code>onComplete</code> does.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV12tryMapResult2on_ACyqd__s5Error_pGAA0C7ContextO_AA0cF0Oyqd__qd_0_GAKyxq_GKctsAFRd_0_r0_lF"></a>
                    <a name="//apple_ref/swift/Method/tryMapResult(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV12tryMapResult2on_ACyqd__s5Error_pGAA0C7ContextO_AA0cF0Oyqd__qd_0_GAKyxq_GKctsAFRd_0_r0_lF">tryMapResult(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new result.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryMapResult</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new result, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that adopts the result returned by <code>onComplete</code>, or is rejected if
<code>onComplete</code> throws an error.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV16tryFlatMapResult2on_ACyqd__s5Error_pGAA0C7ContextO_AA0C0Vyqd__qd_0_GAA0cG0Oyxq_GKctsAFRd_0_r0_lF"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMapResult(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV16tryFlatMapResult2on_ACyqd__s5Error_pGAA0C7ContextO_AA0C0Vyqd__qd_0_GAA0cG0Oyxq_GKctsAFRd_0_r0_lF">tryFlatMapResult(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new promise to wait on.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV16tryFlatMapResult2on5token_ACyqd__s5Error_pGAA0B7ContextO_AA0B17InvalidationTokenVSgACyqd__qd_0_GAA0bF0Oyxq_GKctsAGRd_0_r0_lF">Promise.tryFlatMapResult(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryFlatMapResult</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span><span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value. This callback
returns a new promise, which the returned promise will adopt the value of.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>TokenPromise</code> that adopts the same value that the promise returned by
<code>onComplete</code> does, or is rejected if <code>onComplete</code> throws an error.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tryMapResult(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tryMapResult(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new result.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMapResult(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tryFlatMapResult(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked with the promise result, no matter what it is, and
returns a new promise to wait on.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV16tryFlatMapResult2on5token_ACyqd__s5Error_pGAA0B7ContextO_AA0B17InvalidationTokenVSgACyqd__qd_0_GAA0bF0Oyxq_GKctsAGRd_0_r0_lF">Promise.tryFlatMapResult(on:token:_:)</a></code></p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV3tap2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF"></a>
                    <a name="//apple_ref/swift/Method/tap(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV3tap2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">tap(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked when the promise is resolved without affecting behavior.</p>

<p>This is similar to an <code>always</code> callback except it doesn&rsquo;t create a new <code><a href="../Structs/Promise.html">Promise</a></code> and instead
returns its receiver. This means it won&rsquo;t delay any chained callbacks and it won&rsquo;t affect
automatic cancellation propagation behavior.</p>

<p>This is similar to <code>tap().always(on:_:)</code> except it can be inserted into any promise chain
without affecting the chain.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This method is intended for inserting into the middle of a promise chain without
affecting existing behavior (in particular, cancellation propagation). If you are not
inserting this into the middle of a promise chain, you probably want to use <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV4then2on_ACyxq_GAA0C7ContextO_yxctF">then(on:_:)</a></code>,
<code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3map2on_ACyqd__q_GAA0C7ContextO_qd__xctlF">map(on:_:)</a></code>, <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV5catch2on_ACyxq_GAA0C7ContextO_yq_ctF">catch(on:_:)</a></code>, or <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV6always2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">always(on:_:)</a></code> instead.</p>

</div>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tap2on5token_ACyxq_GAA0B7ContextO_AA0B17InvalidationTokenVSgyAA0B6ResultOyxq_GctF">Promise.tap(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">tap</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onComplete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/PromiseResult.html">PromiseResult</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onComplete</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the promise&rsquo;s value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The receiver.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV3tapACyxq_GyF"></a>
                    <a name="//apple_ref/swift/Method/tap()" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV3tapACyxq_GyF">tap()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>TokenPromise</code> that adopts the result of the receiver without affecting its
behavior.</p>

<p>The returned <code>TokenPromise</code> will always resolve with the same value that its receiver does,
but it won&rsquo;t affect the timing of any of the receiver&rsquo;s other observers and it won&rsquo;t affect
automatic cancellation propagation behavior.</p>

<p><code>tap().always(on:_:)</code> behaves the same as <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3tap2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">tap(on:_:)</a></code> except it returns a <code>TokenPromise</code>
wrapping a new <code><a href="../Structs/Promise.html">Promise</a></code> whereas <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3tap2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">tap(on:_:)</a></code> returns the receiver and can be inserted into
any promise chain without affecting the chain.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This method is intended for inserting into the middle of a promise chain without
affecting existing behavior (in particular, cancellation propagation). If you are not
inserting this into the middle of a promise chain, you probably want to use <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV4then2on_ACyxq_GAA0C7ContextO_yxctF">then(on:_:)</a></code>,
<code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3map2on_ACyqd__q_GAA0C7ContextO_qd__xctlF">map(on:_:)</a></code>, <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV5catch2on_ACyxq_GAA0C7ContextO_yq_ctF">catch(on:_:)</a></code>, or <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV6always2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">always(on:_:)</a></code> instead.</p>

</div>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV3tapACyxq_GyF">Promise.tap()</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">tap</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new <code>TokenPromise</code> that adopts the same result as the receiver. Requesting the
new wrapped <code><a href="../Structs/Promise.html">Promise</a></code> to cancel does nothing.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV8onCancel0D0_ACyxq_GAA0C7ContextO_yyctF"></a>
                    <a name="//apple_ref/swift/Method/onCancel(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV8onCancel0D0_ACyxq_GAA0C7ContextO_yyctF">onCancel(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that will be invoked when the promise is cancelled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV8onCancel0C05token_ACyxq_GAA0B7ContextO_AA0B17InvalidationTokenVSgyyctF">Promise.onCancel(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">onCancel</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onCancel</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onCancel</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked when the promise is cancelled.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver. You may safely
ignore this value.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV4forkyACyxq_GyAEKXEKF"></a>
                    <a name="//apple_ref/swift/Method/fork(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV4forkyACyxq_GyAEKXEKF">fork(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Passes the <code>TokenPromise</code> to a block and then returns the <code>TokenPromise</code> for further
chaining.</p>

<p>This method exists to make it easy to add multiple children to the same <code><a href="../Structs/Promise.html">Promise</a></code> in a
promise chain.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Having multiple children on a single <code><a href="../Structs/Promise.html">Promise</a></code> can interfere with automatic
cancellation propagation. You may want to use <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3tap2on_ACyxq_GAA0C7ContextO_yAA0C6ResultOyxq_GctF">tap(on:_:)</a></code> or <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3tapACyxq_GyF">tap()</a></code> for your sibling
children if you&rsquo;re returning the result of the promise chain to a caller that may wish to
cancel the chain.

</div>

<p>Example:</p>
<pre class="highlight swift"><code><span class="k">return</span> <span class="n">urlSession</span><span class="o">.</span><span class="nf">dataTaskAsPromise</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">withToken</span><span class="p">(</span><span class="n">promiseToken</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">fork</span><span class="p">({</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">tap</span><span class="p">()</span><span class="o">.</span><span class="nf">then</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="o">.</span><span class="n">main</span><span class="p">,</span> <span class="p">{</span> <span class="n">analytics</span><span class="o">.</span><span class="nf">recordNetworkLoad</span><span class="p">(</span><span class="nv">$0</span><span class="o">.</span><span class="n">response</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span> <span class="p">})</span> <span class="p">})</span>
    <span class="o">.</span><span class="nf">tryMap</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="o">.</span><span class="n">utility</span><span class="p">,</span> <span class="p">{</span> <span class="k">try</span> <span class="kt">JSONDecoder</span><span class="p">()</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">Model</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="p">})</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">fork</span><span class="p">(</span><span class="n">_</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">(</span><span class="kt">TokenPromise</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="k">rethrows</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV14ignoringCancelACyxq_GyF"></a>
                    <a name="//apple_ref/swift/Method/ignoringCancel()" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV14ignoringCancelACyxq_GyF">ignoringCancel()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code>TokenPromise</code> that adopts the value of the receiver but ignores cancel
requests.</p>

<p>This is primarily useful when returning a nested promise in a callback handler in order to
unlink cancellation of the outer promise with the inner one. It can also be used to stop
propagating cancel requests up the chain, e.g. if you want to implement something similar to
<code>tap(on:token:_:)</code>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This is similar to <code><a href="../Structs/TokenPromise.html#/s:12Tomorrowland12TokenPromiseV3tapACyxq_GyF">tap()</a></code> except it prevents the parent promise from being
automatically cancelled due to cancel propagation from any observer.</p>

</div>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The returned <code>TokenPromise</code> will still be cancelled if its parent promise is
cancelled.</p>

</div>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV14ignoringCancelACyxq_GyF">Promise.ignoringCancel()</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">ignoringCancel</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/TokenPromise%3C_,Swift.Error%3E"></a>
                <a name="//apple_ref/swift/Section/TokenPromise&lt;_,Swift.Error&gt;" class="dashAnchor"></a>
                <a href="#/TokenPromise%3C_,Swift.Error%3E">
                  <h3 class="section-name">TokenPromise&lt;_,Swift.Error&gt;</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE7tryThen2on_ACyxsAD_pGAA0C7ContextO_yxKctF"></a>
                    <a name="//apple_ref/swift/Method/tryThen(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE7tryThen2on_ACyxsAD_pGAA0C7ContextO_yxKctF">tryThen(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">tryThen</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">auto</span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on. If not provided, defaults to
<code>.auto</code>, which evaluates to <code>.main</code> when invoked on the main thread, otherwise <code>.default</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will resolve to the same value as the receiver, or rejected if
<code>onSuccess</code> throws an error. If the receiver is rejected or cancelled, the returned
promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE6tryMap2on_ACyqd__sAD_pGAA0C7ContextO_qd__xKctlF"></a>
                    <a name="//apple_ref/swift/Method/tryMap(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE6tryMap2on_ACyqd__sAD_pGAA0C7ContextO_qd__xKctlF">tryMap(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE6tryMap2on5token_ACyqd__sAD_pGAA0B7ContextO_AA0B17InvalidationTokenVSgqd__xKctlF">Promise.tryMap(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryMap</span><span class="o">&lt;</span><span class="kt">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">U</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onSuccess</code>, or
rejected if <code>onSuccess</code> throws an error. If the receiver is rejected or cancelled, the
returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMap(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tryFlatMap(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/tryFlatMap(on:token:_:)">Promise.tryFlatMap(on:token:_:)</a></code></p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE10tryFlatMap2on_ACyqd__sAD_pGAA0C7ContextO_AA0C0Vyqd__qd_0_GxKctsADRd_0_r0_lF"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMap(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE10tryFlatMap2on_ACyqd__sAD_pGAA0C7ContextO_AA0C0Vyqd__qd_0_GxKctsADRd_0_r0_lF">tryFlatMap(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a callback that is invoked when the promise is fulfilled.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/tryFlatMap(on:token:_:)">Promise.tryFlatMap(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryFlatMap</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onSuccess</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Value</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">U</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onSuccess</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the fulfilled value.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onSuccess</code>, or rejected if <code>onSuccess</code> throws an error. If the receiver is rejected or
cancelled, the returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE10tryRecover2on_ACyxsAD_pGAA0C7ContextO_xsAD_pKctF"></a>
                    <a name="//apple_ref/swift/Method/tryRecover(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE10tryRecover2on_ACyxsAD_pGAA0C7ContextO_xsAD_pKctF">tryRecover(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseVAAs5Error_pRs_rlE10tryRecover2on5token_ACyxsAD_pGAA0B7ContextO_AA0B17InvalidationTokenVSgxsAD_pKctF">Promise.tryRecover(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">tryRecover</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Value</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be fulfilled with the return value of <code>onError</code>, or
rejected if <code>onError</code> throws an error. If the receiver is rejected or cancelled, the
returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE010tryFlatMapD02on_ACyxsAD_pGAA0C7ContextO_AA0C0Vyxqd__GsAD_pKctsADRd__lF"></a>
                    <a name="//apple_ref/swift/Method/tryFlatMapError(on:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseVAAs5Error_pRs_rlE010tryFlatMapD02on_ACyxsAD_pGAA0C7ContextO_AA0C0Vyxqd__GsAD_pKctsADRd__lF">tryFlatMapError(on:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/Promise.html#/s:12Tomorrowland7PromiseV15tryFlatMapError2on5token_ACyxs0F0_pGAA0B7ContextO_AA0B17InvalidationTokenVSgACyxqd__Gq_KctsAGRd__lF">Promise.tryFlatMapError(on:token:_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">tryFlatMapError</span><span class="o">&lt;</span><span class="kt">E</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">(</span><span class="n">on</span> <span class="nv">context</span><span class="p">:</span> <span class="kt"><a href="../Enums/PromiseContext.html">PromiseContext</a></span><span class="p">,</span> <span class="n">_</span> <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Error</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Promise.html">Promise</a></span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TokenPromise</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>context</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The context to invoke the callback on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The callback that is invoked with the rejected error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A new promise that will be eventually resolved using the promise returned from
<code>onError</code>, or rejected if <code>onError</code> throws an error. If the receiver is rejected or
cancelled, the returned promise will also be rejected or cancelled.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Equatable"></a>
                <a name="//apple_ref/swift/Section/Equatable" class="dashAnchor"></a>
                <a href="#/Equatable">
                  <h3 class="section-name">Equatable</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12Tomorrowland12TokenPromiseV2eeoiySbACyxq_G_AEtFZ"></a>
                    <a name="//apple_ref/swift/Method/==(_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:12Tomorrowland12TokenPromiseV2eeoiySbACyxq_G_AEtFZ">==(_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Two <code>TokenPromise</code>s compare as equal if they represent the same promise.</p>

<p>Two distinct <code>TokenPromise</code>s that are resolved to the same value compare as unequal.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="o">==</span> <span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="kt">TokenPromise</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="kt">TokenPromise</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://github.com/lilyball/Tomorrowland" target="_blank" rel="external">Lily Ballard</a>. All rights reserved. (Last updated: 2019-05-19)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
